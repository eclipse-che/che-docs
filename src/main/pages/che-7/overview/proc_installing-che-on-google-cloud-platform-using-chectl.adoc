// Module included in the following assemblies:
//
// installing-{prod-id-short}-on-google-cloud-platform
:page-liquid:

[id="installing-{prod-id-short}-on-google-cloud-platform-using-{prod-cli}_{context}"]
= Installing {prod-short} on Google Cloud Platform using {prod-cli}

.Prerequisites

* The `{prod-cli}` management tool is available. See link:{site-baseurl}che-7/using-the-{prod-cli}-management-tool/[Using the `{prod-cli}` management tool].

.Procedure

To install {prod-short} on Google Cloud Platform, run the following `{prod-cli}` command:

[subs="+attributes"]
----
$ {prod-cli} server:start --installer=helm --platform=k8s --domain=gcp.my-ide.cloud --multiuser
  âœ” Verify Kubernetes API...OK
  âœ” ğŸ‘€  Looking for an already existing {prod} instance
    âœ” Verify if {prod} is deployed into namespace "{prod-namespace}"...it is not
  âœ” âœˆï¸  Kubernetes preflight checklist
    âœ” Verify if kubectl is installed
    âœ” Verify remote kubernetes status...done.
    âœ” Check Kubernetes version: Found v1.15.12-gke.2.
    âœ” Verify domain is set...set to gcp.my-ide.cloud.
    â†“ Check if cluster accessible [skipped]
{prod} logs will be available in '/var/folders/tg/_5rxbhmj4xncz4szvpgswrmc0000gn/T/chectl-logs/1596035521904'
  âœ” Start following logs
    â†“ Start following Operator logs [skipped]
    âœ” Start following {prod} logs...done
    âœ” Start following Postgres logs...done
    âœ” Start following Keycloak logs...done
    âœ” Start following Plugin registry logs...done
    âœ” Start following Devfile registry logs...done
  âœ” Start following events
    âœ” Start following namespace events...done
 â€º   Warning: Consider using the more reliable 'OLM' installer when deploying a stable release of {prod-short} (--installer=olm).
  âœ” ğŸƒâ€  Running Helm to install {prod}
    âœ” Verify if helm is installed
    âœ” Check Helm Version: Found v3.1.2+gd878d4d
    âœ” Create Namespace (che)...does already exist.
    âœ” Check {prod} TLS certificate...TLS certificate secret found
    âœ” Check Cluster Role Binding...does not exists.
    âœ” Preparing {prod} Helm Chart...done.
    âœ” Updating Helm Chart dependencies...done.
    âœ” Deploying {prod} Helm Chart...done.
  âœ” âœ…  Post installation checklist
    âœ” PostgreSQL pod bootstrap
      âœ” scheduling...done.
      âœ” downloading images...done.
      âœ” starting...done.
    âœ” Devfile registry pod bootstrap
      âœ” scheduling...done.
      âœ” downloading images...done.
      âœ” starting...done.
    âœ” Plugin registry pod bootstrap
      âœ” scheduling...done.
      âœ” downloading images...done.
      âœ” starting...done.
    âœ” {prod} pod bootstrap
      âœ” scheduling...done.
      âœ” downloading images...done.
      âœ” starting...done.
    âœ” Retrieving {prod} server URL... https://{prod-namespace}-{prod-namespace}.gcp.my-ide.cloud
    âœ” {prod} status check
  âœ” Show important messages
    âœ” Autogenerated Keycloak credentials are: "xxx:xxx"
Command server:start has completed successfully.
----

.{identity-provider} and {prod-short} with valid wildcard certificates
image::installation/keycloak-and-che-with-valid-wildcard-certs.gif[link="{imagesdir}/installation/keycloak-and-che-with-valid-wildcard-certs.gif"]

.{prod-short} user dashboard
image::installation/che-user-dashboard-gcp.png[link="{imagesdir}/installation/che-user-dashboard-gcp.png"]
