// authenticating-users

[id="authentication-modes_{context}"]
= Authentication modes

{prod-short} supports multiuser and single-user mode.

.Single-user mode

Single-user mode requires no authentication and anyone can access all cluster resources. In single-user mode, the server performs all operations as the predefined user, regardless of who accesses the server. Therefore, this mode is suitable only for use in a private instance for testing product possibilities and configurations.

* H2 database is used.

{prod-short} deployed in single-user mode has no authentication and anyone who can access the URL of the {prod-short} deployment sees all workspaces and owns all resources. The fact that this mode has no authentication leads to it deprecation and removal. It's highly recommended migrating to multiuser mode.

[NOTE]
====
To back up the data, you can commit workspace configuration to an SCM server and use factories to restore it later.
====


.Multiuser mode

Multiuser mode is the default mode for {prod-short}. It requires user authentication and offers isolated workspaces and their resources. In multiuser mode, workspaces are used in the scope of registered users and workspace definitions, and devfiles of particular workspaces can be shared and reused between many users.

* {identity-provider} is used to authenticate users.
* PostgreSQL database is used.


["changing-the-authentication-mode_{context}"]
== Changing the authentication mode

This procedure describes how to change authentication mode for various deployment types.

.Procedure

{prod-short} deployed using the {prod-short} Operator defaults to multiuser mode. To change to sing-user mode:

. Update the `CheCluster` Custom Resource (CR) to set the `CHE_MULTIUSER` property to `false`:
+
[source, yaml]
----
spec:
 server:
   customCheProperties:
      CHE_MULTIUSER: "false"
----

{prod-short} deployed using the Helm installer defaults to single-user mode. To change to multiuser mode:

. Set the `multiuser` Helm chart field to `true`:
+
[subs="+quotes,+attributes"]
----
$ helm upgrade --install che --force --namespace {prod-namespace} --set global.cheDomain=__<{prod-host}>__  -f multi-user.yaml
----

{prod-short} deployed using the `{prod-cli}` command-line tool defaults to single-user mode. To change to multiuser mode:

. Use the `--multiuser` (`-m`) option with the `{prod-cli} server:deploy` command:
+
[subs="+quotes,+attributes"]
----
$ {prod-cli} server:deploy --platfrom=minikube --installer=helm --multiuser
----

