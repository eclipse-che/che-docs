[id="backing-up-a-prod-short-instance-to-an-sftp-backup-server-by-prod-cli-with-command-line-options_{context}"]
= Backing up a {prod-short} instance to an SFTP backup server by {prod-cli} with command-line options

To take a backup snapshot of a {prod-short} instance and to send the snapshot to a configured external SFTP backup server, run {prod-cli} with the command-line options.

include::snip_warning-does-not-back-up-content-of-workspaces.adoc[]

.Prerequisites
* Configured external SFTP backup server. See xref:supported-restic-compatible-backup-servers.adoc[]
* Created backup repository. See link:https://restic.readthedocs.io/en/latest/030_preparing_a_new_repo.html[Preparing a new repository].
* Created backup repository password. See link:https://restic.readthedocs.io/en/latest/030_preparing_a_new_repo.html[Preparing a new repository].
+
include::snip_warning-about-losing-backup-repo-password.adoc[]

.Procedure

. Enter the {prod-cli} command with the following arguments:
+
[source,shell,subs="+quotes,+attributes"]
----
$ chectl server:backup \
--repository-url=_<repository_url>_ \ <1>
--repository-password=_<repository_password>_ \ <2>
--ssh-key-file=_<ssh_key_file>_ <3>
----
<1> Backup repository URL as an argument using the `--repository-url` or `-r` option.
<2> Backup repository password as an argument using the `--repository-password` or `-p` option.
<3> Path to a private SSH key file for authenticating on the SFTP server.

include::snip_tip-omitting-prod-cli-options-for-server-backup-and-server-restore-onward-when-using-same-backup-server.adoc[]