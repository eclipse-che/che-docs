// Module included in the following assemblies:
//
// authenticating-on-scm-server-with-a-personal-access-token

[id="configuring_bitbucket_authentication_{context}"]

= Authenticating on Bitbucket servers

The following section describes the configuration needed to allow {prod-short} using Bitbucket (BB) repositories with Git cloning operations.

BB authentication is based on using personal access tokens. Each BB user is able to request several personal access tokens with different names, permissions, expiration times, and so on. Those tokens can be used to sign Bitbucket REST API calls and perform Git repository operations.

* {prod-short} users may use public or private repositories on the BB SCM (Source Code Management) system as a source of their projects.

NOTE: Before configuring the OAuth 1 authentication that is required for reading from private repositories and writing to both private and public repositories, configure the BB server with {prod-short} first.


.Additional resources

For a remote Git repository that uses a self-signed certificate, add an additional server configuration. See xref:installation-guide:deploying-che-with-support-for-git-repositories-with-self-signed-certificates.adoc[].

[id="using_bitbucket_{context}"]

== Using Bitbucket

The following section describes configuration of the OAuth 1 authentication that is needed for performing read and write operations with Bitbucket repositories. To use BB repositories with allowed Git operations, such as `clone` and `push`, register a Bitbucket endpoint with {prod-short} first, and configure the OAuth 1 authentication.

[NOTE] 
====
This procedure requires:

* generating RSA key pairs
* generating a consumer key-secret pair
* creating an application link on the Bitbucket side
====

.Prerequisites

* A BB endpoint has been registered with {prod-short}. Follow the xref:administration-guide:configuring-authorization#configuring_bitbucket_servers_{context}[Configuring Bitbucket servers] procedure and register a BB server using the `CHE_INTEGRATION_BITBUCKET_SERVER__ENDPOINTS` yaml secret property.

.Procedure

. Configure the OAuth 1 authentication by following the xref:administration-guide:configuring-authorization#proc_configuring-bitbucket-server-oauth1_{context}[Configuring Bitbucket Server OAuth 1] procedure.
