// Module included in the following assemblies:
//
// branding-che-theia

[id="testing-che-theia-with-custom-branding_{context}"]
= Testing Che-Theia with custom branding

This section describes how to test a customized Che-Theia by opening a new workspace with custom branding.


.Prerequisites

* Che-Theia container image built with custom branding definitions.


.Procedure

To test a custom Che-Theia image, create a new `meta.yaml` file describing a custom `cheEditor`, and use it in a devfile for the testing workspace.

. Clone the che-plugin-registry repository and check out the version to deploy. See,
+
include::administration-guide:example$snip_{project-context}-clone-the-plug-in-registry-repository.adoc[]

. Open the `che-editors.yaml` file.

. Edit the entry where `id` equals `eclipse/che-theia/next` and replace the `image` value in the `containers` section to point to the custom Che-Theia container image.

. Build the registry:
+
include::administration-guide:example$snip_{project-context}-build-a-custom-plug-in-registry.adoc[]

. Navigate to the `./{che-plugin-registry-directory}/v3/plugins/eclipse/che-theia/next` directory.

. Publish the `meta.yaml` file in this directory to a publicly accessible location where it can be used as an HTTP resource.

. Create a workspace using the sample https://raw.githubusercontent.com/che-samples/che-theia-branding-example/master/devfile.yaml[che-theia-branding-example devfile] to apply the changes.
+
Make sure the `reference` field points to your published `meta.yaml` file:
+
image::https://www.eclipse.org/che/contribute.svg[link="https://workspaces.openshift.com/f?url=https://raw.githubusercontent.com/che-samples/che-theia-branding-example/master/devfile.yaml"]
+
[source,yaml,attrs="nowrap"]
----
metadata:
  name: che-theia-all
projects:
  - name: che-cheia-branding-example
    source:
      location: 'https://github.com/che-samples/che-theia-branding-example.git'
      type: git
      branch: master
components:
  - type: cheEditor
    reference: >-
      https://raw.githubusercontent.com/che-samples/che-theia-branding-example/master/che-editor.meta.yaml
apiVersion: 1.0.0
----

. Run the workspace to see the changes:
+
* The dark theme of Che-Theia:
+
image::branding/welcome-dark.png[link="../_images/branding/welcome-dark.png"]
+
image::branding/about-dark.png[link="../_images/branding/about-dark.png"]

* The light theme of Che-Theia:
+
image::branding/welcome-light.png[link="../_images/branding/welcome-light.png"]
+
image::branding/about-light.png[link="../_images/branding/about-light.png"]


////
.Additional resources
////
