// Module included in the following assemblies:
//
// advanced-configuration-options

[id="understanding-{prod-id-short}-server-advanced-configuration-using-the-operator_{context}"]
= Understanding {prod-short} server advanced configuration using the Operator

The following section describes the {prod-short} server component advanced configuration method for a deployment using the Operator.

Advanced configuration is necessary to:

* Add environment variables not automatically generated by the Operator from the standard `CheCluster` Custom Resource fields.
* Override the properties automatically generated by the Operator from the standard `CheCluster` Custom Resource fields.


The `customCheProperties` field, part of the `CheCluster` Custom Resource `server` settings, contains a
map of additional environment variables to apply to the {prod-short} server component.

.Override the default memory limit for workspaces

====
[subs="+quotes,macros"]
* Add the `pass:[CHE_WORKSPACE_DEFAULT__MEMORY__LIMIT__MB]` property to `customCheProperties`:
+
[source,yaml,subs="+quotes,+attributes,+macros"]
----
apiVersion: org.eclipse.che/v1
kind: CheCluster
metadata:
  name: {prod-checluster}
  namespace: __<{prod-namespace}>__
spec:
  server:
    cheImageTag: ''
    devfileRegistryImage: ''
    pluginRegistryImage: ''
    tlsSupport: true
    selfSignedCert: false
    customCheProperties:
      +CHE_WORKSPACE_DEFAULT__MEMORY__LIMIT__MB+: "2048"
  auth:
# [...]
----
====

[NOTE]
====
Previous versions of the {prod-short} Operator had a configMap named `custom` to fulfill this role. If the {prod-short} Operator finds a `configMap` with the name `custom`, it adds the data it contains into the `customCheProperties` field, redeploys {prod-short}, and deletes the `custom` `configMap`.
====

.Additional resources

* For the list of all parameters available in the `CheCluster` Custom Resource, see xref:configuring-the-che-installation.adoc[].

* For the list of all parameters available to configure `customCheProperties`, see xref:{prod-id-short}-server-component-system-properties-reference_{context}[].